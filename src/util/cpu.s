.section .iwram,"ax",%progbits

.define IRQ_VECTOR 0x3007FFC

;------------------------------------------------------------------------------
; void DisableInterrupts()
;------------------------------------------------------------------------------
; Description: Disables CPU interrupts
;------------------------------------------------------------------------------
; Parameters:
; None
;------------------------------------------------------------------------------
; Returns:
; Nothing.
;------------------------------------------------------------------------------
DisableInterrupts:
    mrs r0, cpsr
    orr r0, #128
    msr cpsr, r0
    bx lr

;------------------------------------------------------------------------------
; void HaltCPU()
;------------------------------------------------------------------------------
; Description: Halts the CPU
;------------------------------------------------------------------------------
; Parameters:
; None
;------------------------------------------------------------------------------
; Returns:
; Nothing.
;------------------------------------------------------------------------------
HaltCPU:
    swi #2
    bx lr